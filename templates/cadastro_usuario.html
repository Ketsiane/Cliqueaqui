{% extends "estrutura.html" %}

{% block content %}
    <h2>{{ titulo }}</h2>
    
    <h3>Novo Usuário</h3>
    <form action="{{ url_for('novo_usuario') }}" method="post">
        <label for="nome">Nome:</label>
        <input type="text" id="nome" name="nome" required>
        <br>
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>
        <br>
        <label for="senha">Senha:</label>
        <input type="password" id="senha" name="senha" required>
        <br>
        <label for="endereco">Endereço:</label>
        <input type="text" id="endereco" name="endereco" required>
        <br>
        <button type="submit">Cadastrar</button>
    </form>
    
    <h3>Lista de Usuários</h3>
    <table border="1">
        <thead>
            <tr>
                <th>ID</th>
                <th>Nome</th>
                <th>Email</th>
                <th>Endereço</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            {% for usuario in usuarios %}
            <tr>
                <td>{{ usuario.id }}</td>
                <td>{{ usuario.nome }}</td>
                <td>{{ usuario.email }}</td>
                <td>{{ usuario.endereco }}</td>
                <td>
                    <a href="{{ url_for('editar_usuario', id=usuario.id) }}">Editar</a> |
                    <a href="{{ url_for('excluir_usuario', id=usuario.id) }}" onclick="return confirm('Deseja realmente excluir este usuário?');">Excluir</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    
    <br>
    <a href="{{ url_for('index') }}">Voltar para o Início</a>
{% endblock %}